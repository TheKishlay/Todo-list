(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(601),r=n.n(o),a=n(314),c=n.n(a)()(r());c.push([e.id,"body {\n  margin: 0;\n  background-color: rgb(17, 10, 16);\n  color: aquamarine;\n}\n\nheader {\n  display: flex;\n  height: 15vh;\n  justify-content: center;\n  gap: 20px;\n  align-items: center;\n  background-color: #111111;\n}\n\nimg {\n  border-radius: 50%;\n  height: 80%;\n}\n\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100vh;\n}\n\n.content {\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-evenly;\n}\n\n.activeproject {\n  background-color: aquamarine;\n  color: #232323;\n  border-radius: 5px;\n  padding: 10px;\n  text-align: center;\n}\n\nmain {\n  background-color: #232323;\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  height: 85vh;\n  justify-content: space-between;\n  align-items: center;\n  -webkit-box-shadow: inset -3px -20px 160px 13px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: inset -3px -20px 160px 13px rgba(0, 0, 0, 0.75);\n  box-shadow: inset -3px -20px 160px 13px rgba(0, 0, 0, 0.75);\n}\n\naside {\n  display: flex;\n  flex-direction: column;\n  background-color: #111111;\n  justify-content: center;\n  width: 20%;\n}\n\nli {\n  list-style: none;\n  gap: 5px;\n  align-items: center;\n}\n\nul {\n  padding: 0;\n}\n\n.project-item {\n  display: flex;\n  margin: 10px 0 10px 0;\n  padding: 10px;\n  justify-content: space-between;\n}\n\n.task-container {\n  display: flex;\n  flex-flow: row wrap;\n  gap: 10px;\n  width: 100%;\n  justify-content: space-evenly;\n}\n\n#addTaskBtn {\n  margin-bottom: 30px;\n}\n\nbutton {\n  border-radius: 5px;\n  padding: 5px 10px;\n  border-radius: 5px;\n}\n\nbutton:hover {\n  transform: scale(1.1);\n  transition: all 0.2s ease-in-out;\n  background-color: #232323;\n  color: aquamarine;\n  border-radius: 5px;\n  cursor: pointer;\n}\n",""]);const i=c},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(c[s]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&c[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},c=[],i=0;i<e.length;i++){var s=e[i],l=o.base?s[0]+o.base:s[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=n(u),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=r(f,o);o.byIndex=i,t.splice(i,0,{identifier:u,updater:m,references:1})}c.push(u)}return c}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var c=0;c<a.length;c++){var i=n(a[c]);t[i].references--}for(var s=o(e,r),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=s}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var o=n(72),r=n.n(o),a=n(825),c=n.n(a),i=n(659),s=n.n(i),l=n(56),d=n.n(l),u=n(540),p=n.n(u),f=n(113),m=n.n(f),y=n(208),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=p(),r()(y.A,v),y.A&&y.A.locals&&y.A.locals;const b={events:{},subscribe:function(e,t){console.log(`PUBSUB: someone just subscribed to know about ${e}`),this.events[e]=this.events[e]||[],this.events[e].push(t)},unsubscribe:function(e,t){console.log(`PUBSUB: someone just UNsubscribed from ${e}`),this.events[e]&&(this.events[e]=this.events[e].filter((e=>e!==t)))},publish:function(e,t){console.log(`PUBSUB: Making an broadcast about ${e} with ${t}`),this.events[e]&&this.events[e].forEach((e=>{e(t)}))}},h=e=>{localStorage.setItem("projectList",JSON.stringify(e));const t=localStorage.getItem("projectList");b.publish("projectaddedToStorage",JSON.parse(t))};function g(e){const t=new Date;return new Date(e)>t}const x={render:(e,t,n)=>{b.subscribe("taskadded",x.addTask);let o=document.querySelector("#taskContainerTemplate").content.cloneNode(!0);e.innerHTML="",e.appendChild(o),console.log(t[n][Object.keys(t[n])[0]]),0===t[n][Object.keys(t[n])[0]].length?document.querySelector(".task-container").innerHTML="No tasks added yet":b.publish("taskadded",[t,n]),document.querySelector(".add-task-btn").addEventListener("click",(()=>{!function(e,t){let n=document.querySelector("#taskformtemplate").content.cloneNode(!0);document.querySelector(".wrapper").appendChild(n);let o=document.querySelector("dialog");o.showModal();let r=document.querySelector("#form"),a=document.querySelector("#submit-task");console.log(e),a.addEventListener("click",(n=>{if(g(r.dueDate.value)){n.preventDefault();let a={title:r.title.value,notes:r.notes.value,dueDate:new Date(r.dueDate.value).toDateString(),priority:r.priority.value};!function(e,t,n){e[t][Object.keys(e[t])[0]].push(n),b.publish("taskadded",[e,t]),h(e),console.log(e)}(e,t,a),o.remove()}else alert("Enter valid date!"),n.preventDefault()}))}(t,n)}))},addTask:([e,t])=>{let[n,o]=[e,t],r=n[o][Object.keys(n[o])[0]],a=document.querySelector(".task-container");a.innerHTML="",r.forEach((e=>{const t=o;let r=document.querySelector("#taskTemplate").content.cloneNode(!0);r.querySelector(".task-title").textContent=e.title,r.querySelector(".task-notes").textContent=e.notes,r.querySelector(".task-due-date").textContent=e.dueDate,r.querySelector(".task-priority").textContent=e.priority;const c=r.querySelector(".deleteTask");c.addEventListener("click",(()=>{c.closest("li").remove(),function(e,t,n){console.log(e[t]);const o=e[t][Object.keys(e[t])[0]].findIndex((e=>JSON.stringify(e)===JSON.stringify(n)));-1!==o&&e[t][Object.keys(e[t])[0]].splice(o,1),h(e)}(n,t,e),0===n[o][Object.keys(n[o])[0]].length&&(document.querySelector(".task-container").innerHTML="No tasks added yet")}));const i=r.querySelector(".editTask");a.appendChild(r),i.addEventListener("click",(function(t){!function(e,t,n,o){let r=e.closest("li");const a=r.querySelector(".task-title"),c=r.querySelector(".task-notes"),i=r.querySelector(".task-due-date"),s=r.querySelector(".task-priority"),l=r.querySelector(".deleteTask"),d=r.querySelector(".editTask");l.style.display="none",d.style.display="none";const u=t[n][Object.keys(t[n])[0]].findIndex((e=>JSON.stringify(e)===JSON.stringify(o)));let p=t[n][Object.keys(t[n])[0]][u];console.log("task pointer",p),a.contentEditable=!0,a.focus(),c.contentEditable=!0;let f=document.createElement("input");f.setAttribute("type","date"),f.classList.add("task-due-date"),i.appendChild(f);let m=document.createElement("input");m.setAttribute("type","range"),m.min=1,m.max=5,m.classList.add("task-priority"),s.appendChild(m);const y=document.createElement("button");y.textContent="Save",y.classList.add("save-edit"),r.appendChild(y),y.addEventListener("click",(e=>{g(f.value)?(p.title=a.textContent,p.notes=c.textContent,p.dueDate=new Date(f.value).toDateString(),p.priority=m.value,a.contentEditable=!1,c.contentEditable=!1,i.removeChild(f),s.removeChild(m),d.textContent="Edit",l.textContent="X",t[n][Object.keys(t[n])[0]][u]=p,h(t),b.publish("taskadded",[t,n])):alert("Enter valid date!")}));const v=document.createElement("button");v.textContent="Cancel",v.classList.add("cancel-edit"),r.appendChild(v),v.addEventListener("click",(()=>{a.contentEditable=!1,c.contentEditable=!1,i.removeChild(f),s.removeChild(m),d.textContent="Edit",l.style.display="block",h(t),b.publish("taskadded",[t,n])}))}(t.target,n,o,e),t.target.closest("li").classList.add("activeproject")}))}))}},k={render:e=>{document.querySelector("main").innerHTML="No project selected!";let t=document.querySelector("#projectTemplate").content.cloneNode(!0);e.appendChild(t);let n=JSON.parse(localStorage.getItem("projectList"))?JSON.parse(localStorage.getItem("projectList")):[];0!==n.length&&k.addProject(n);let o=document.createElement("button");o.textContent="Add Project",o.classList.add("add-project-btn"),o.addEventListener("click",(()=>function(e){const t=document.createElement("dialog");t.classList.add("project-info-box");const n=document.createElement("input");n.classList.add("project-title"),n.setAttribute("type","text"),n.setAttribute("placeholder","Enter the title of the project"),t.appendChild(n);const o=document.createElement("button");o.classList.add("submit-project"),o.textContent="Add",t.appendChild(o);const r=document.createElement("button");r.classList.add("cancel-project"),r.textContent="Cancel",t.appendChild(r),r.addEventListener("click",(()=>{t.remove()})),document.querySelector(".wrapper").appendChild(t),t.showModal(),o.addEventListener("click",(()=>{!function(e,t){console.log("before adding project:",t),t.push(function(e){let t={};return t[e]=[],t}(e)),h(t),console.log("after adding project:",t)}(n.value,e),t.remove()}))}(n))),e.appendChild(o),b.subscribe("projectaddedToStorage",k.addProject),b.subscribe("projectdeleted",k.addProject)},addProject:e=>{console.log(e);let t=document.querySelector(".project-container ul");t.innerHTML="";let n=0;e.forEach((o=>{const r=n;let a=document.createElement("li");a.classList.add("project-item"),a.innerHTML=`${Object.keys(e[n])[0]} <button class="delete-project">X</button>`;const c=document.querySelector("main"),i=()=>{x.render(c,e,r),document.querySelectorAll(".project-item").forEach((e=>{e.classList.remove("activeproject")})),a.classList.add("activeproject")};a.addEventListener("click",i),a.querySelector(".delete-project").addEventListener("click",(()=>{a.removeEventListener("click",i),a.remove(),function(e,t){console.log("before",e),e.splice(t,1),console.log("after splice",e),localStorage.setItem("projectList",JSON.stringify(e)),console.log("after",e),b.publish("projectdeleted",e)}(e,r),c.innerHTML="No project selected!"})),t.appendChild(a),n++}))}},S=document.querySelector("aside");k.render(S)})();